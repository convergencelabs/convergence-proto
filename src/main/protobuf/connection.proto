syntax = "proto3";

package com.convergencelabs.protocol;

message PingMessage {}

message PongMessage {}

message ErrorMessage {
  string code = 1;
  string message = 2;
  map<string, string> details = 3;
}

message HandshakeRequestMessage {
  bool reconnect = 1;
  string reconnectToken = 2;
}

message HandshakeResponesMessage {
  bool success = 1;

  message ErrorData {
    string code = 1;
    string details = 2;
  }

  ErrorData error = 2;
  bool retryOk = 3;

  message ProtocolConfigData {
    bool heartbeatEnabled = 1;
  }
}
